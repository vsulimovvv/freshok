window.addEventListener("DOMContentLoaded",e=>{});const togglePopup=(e,t)=>{const r=document.querySelector(e),s=document.querySelector(t);r&&s.addEventListener("click",e=>{r.classList.toggle("active")})};togglePopup(".form-search--mobile",".user-menu__button--search"),togglePopup(".dropdown",".dropdown__button");const modals=()=>{function e(e,t,r,s="overaly"){const i=document.querySelector(e),o=document.querySelector(t),a=document.querySelector(r),l=document.querySelector(s),c=document.querySelector("body");o&&(i.addEventListener("click",e=>{e.target&&e.preventDefault(),o.classList.add("active"),l.classList.add("active"),c.classList.add("no-scroll")}),a.addEventListener("click",e=>{o.classList.remove("active"),l.classList.remove("active"),c.classList.remove("no-scroll")}),o.addEventListener("click",e=>{e.target===o&&(o.classList.remove("active"),l.classList.remove("active"),c.classList.remove("no-scroll"))}))}e(".user-menu__button--cart",".cart",".cart__close",".overlay"),e(".header__toggle",".mobile-menu",".mobile-menu__close",".overlay"),e(".filter-actions__button--show-filter",".catalog__sidebar",".sidebar__close",".overlay"),e(".product-section__preview",".slider-popup",".slider-popup__close",".overlay")};modals();const modalsSlider=()=>{!function(e,t,r){const s=document.querySelector(e),i=document.querySelector(t),o=document.querySelector(r),a=document.querySelector("body");i&&(s.addEventListener("click",e=>{e.target&&e.preventDefault(),i.classList.add("active"),a.classList.add("no-scroll")}),o.addEventListener("click",e=>{i.classList.remove("active"),a.classList.remove("no-scroll")}),i.addEventListener("click",e=>{e.target===i&&(i.classList.remove("active"),a.classList.remove("no-scroll"))}))}(".product-section__preview",".slider-popup",".slider-popup__close")};modalsSlider();const sliderWithSlideOnePerView=e=>{e=document.querySelector(e);e&&new Swiper(e,{slidesPerView:1,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".hero__dots",clickable:!0}})};sliderWithSlideOnePerView(".hero-slider");const sliderBrands=e=>{e=document.querySelector(e);e&&new Swiper(e,{slidesPerView:6,slidesPerGroup:6,loopFillGroupWithBlank:!0,breakpoints:{320:{slidesPerView:2,slidesPerGroup:2},420:{slidesPerView:3,slidesPerGroup:3},576:{slidesPerView:4,slidesPerGroup:4},768:{slidesPerView:5,slidesPerGroup:5,spaceBetween:90},991:{slidesPerView:6,slidesPerGroup:6,spaceBetween:100},1290:{spaceBetween:140}}})};function mix(e,t){var r=document.querySelector(e),e=document.querySelector(t),t={controls:{scope:"local"}};(r||e)&&(mixitup(r,t),mixitup(e,t))}sliderBrands(".brands__slider"),mix('[data-ref="container-1"]','[data-ref="container-2"]');const toggleFullSidebox=()=>{const e=document.querySelectorAll(".sidebar-box__top");e.forEach(t=>{t.addEventListener("click",e=>{console.log(t.parentNode),t.parentNode.classList.toggle("active")})})};toggleFullSidebox();const toggleView=()=>{const t=document.querySelectorAll(".catalog__item article"),r=document.querySelector(".catalog__list"),s=document.querySelector(".filter-actions__button--grid"),i=document.querySelector(".filter-actions__button--list");s&&i&&(s.addEventListener("click",e=>{i.classList.remove("active"),s.classList.add("active"),r.classList.remove("catalog__list--list"),t.forEach(e=>{e.className="product-card product-card--catalog"})}),i.addEventListener("click",e=>{i.classList.add("active"),s.classList.remove("active"),r.classList.add("catalog__list--list"),t.forEach(e=>{e.className="product-card product-card--row"})}))};toggleView();const rangeSliderForPrice=()=>{const e=document.querySelectorAll(".range-slider");e.forEach(s=>{if(s){noUiSlider.create(s,{start:[100,1e3],connect:!0,step:1,range:{min:[50],max:[1200]}});const r=[document.getElementById("input-0"),document.getElementById("input-1")];s.noUiSlider.on("update",function(e,t){r[t].value=Math.round(e[t])});const i=(e,t)=>{let r=[null,null];r[e]=t,s.noUiSlider.set(r)};r.forEach((e,t)=>{e.addEventListener("change",e=>{i(t,e.currentTarget.value)}),e.addEventListener("input",e=>{i(t,e.currentTarget.value)})})}})};function tabsProducts(e,t,r,s){const i=document.querySelectorAll(e),o=document.querySelectorAll(t),a=document.querySelectorAll(r);function l(){a.forEach(e=>{e.classList.remove("active")}),o.forEach(e=>{e.classList.remove(s)})}function c(e=0){a[e].classList.add("active"),o[e].classList.add(s)}a&&i&&o&&(l(),c(),i.forEach(e=>{e.addEventListener("click",e=>{const r=e.target;(r.classList.contains(t.replace(/\./,""))||r.classList.parentNode.contains(t.replace(/\./,"")))&&o.forEach((e,t)=>{r!=e&&r.parentNode!=e||(l(),c(t))})})}))}rangeSliderForPrice(),tabsProducts(".tab__list",".tab__button",".tab__body-list","tab__button--active");const sliderGroup=()=>{var e=document.querySelector(".recommendations__slider"),t=document.querySelector(".arrow-next"),r=document.querySelector(".arrow-prev");e&&new Swiper(e,{slidesPerView:4,slidesPerGroup:4,loopFillGroupWithBlank:!0,navigation:{nextEl:t,prevEl:r},pagination:{el:".swiper-pagination"},breakpoints:{320:{spaceBetween:5,slidesPerView:2,slidesPerGroup:2},800:{slidesPerView:3,slidesPerGroup:3},1024:{slidesPerView:4,slidesPerGroup:4,spaceBetween:28}}})};function sliderSingleProduct(e){e=document.querySelector(e);e&&new Carousel(e,{slidesPerPage:1,center:!0})}function addReviewToPage(){const s=document.querySelector(".reviews__list"),i=document.forms.addReview,o=i.elements.name,a=i.elements.email,l=i.elements.message;o.setAttribute("required","required");const e=document.querySelector(".form-add-review__submit");function c(){var e=document.querySelectorAll(".review");const t=document.querySelector(".tab__button span");e&&(e=e.length,t.textContent=e)}function n(e){e.className="form-add-review__input error"}function d(e){e.className="form-add-review__input success"}c(),e.addEventListener("click",e=>{var t,r;e.preventDefault(),o.value&&a.value&&l.value&&(s.insertAdjacentHTML("afterbegin",(t=o.value,a.value,r=l.value,`
          <li class="reviews__item">
            <article class="review">
              <div class="review__top">
                <div class="review__top-info">
                  <img class="review__img" src="images/review.jpg" alt="">
                  <div class="review__data">
                    <h4 class="review__name">${t}</h4>
                    <time class="review__date">${(new Date).toLocaleDateString()}</time>
                  </div>
                </div>

                <div class="review__rating">
                  <fieldset class="rating nohover">
                    <legend class="rating__caption visually-hidden">Райтинг покупателя</legend>
                    <div class="rating__group">
                      <input class="rating__star" type="radio" name="customer-2" value="1" aria-label="Ужасно">
                      <input class="rating__star" type="radio" name="customer-2" value="2" aria-label="Сносно">
                      <input class="rating__star" type="radio" name="customer-2" value="3" aria-label="Нормально">
                      <input class="rating__star" type="radio" name="customer-2" value="4" aria-label="Хорошо">
                      <input class="rating__star" type="radio" name="customer-2" value="5" aria-label="Отлично" checked>
                    </div>
                  </fieldset>
                </div>
              </div>

              <div class="review__text">
                <p>${r}</p>
              </div>
            </article>
          </li>
  `)),c()),e=o.value.trim(),t=a.value.trim(),r=l.value.trim(),""===e?n(o):d(o),""===t?n(a):/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(a)?d(a):n(a),""===r?n(l):d(l),i.reset()})}sliderGroup(),sliderSingleProduct(".product-section__preview"),sliderSingleProduct(".slider-popup__body");